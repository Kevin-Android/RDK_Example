<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.67">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>快速构建一个功能齐全的PDF阅读器 | Foxit PDF SDK for Android</title><meta name="description" content="Foxit PDF SDK for Android Doc">
    <link rel="preload" href="/RDK_Example/assets/style-5418de61.css" as="style"><link rel="stylesheet" href="/RDK_Example/assets/style-5418de61.css">
    <link rel="modulepreload" href="/RDK_Example/assets/app-e1a13da4.js"><link rel="modulepreload" href="/RDK_Example/assets/build-quickly.html-089d4ca5.js"><link rel="modulepreload" href="/RDK_Example/assets/build-quickly.html-3e49ce47.js"><link rel="prefetch" href="/RDK_Example/assets/index.html-7d18f43e.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/edit-pdf.html-26f19f51.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/sign-pdf.html-2695e710.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/view-pdf.html-b2b954cc.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/index.html-4710b45f.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/getting-started.html-36853647.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/installation.html-9858e282.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/create-custom-tools.html-3ed425b5.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/custom-ui.html-f8a65626.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/getting-started-guide.html-eede1f53.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/introduction.html-3b0b1d91.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/other-resources.html-c5194a04.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/technical-support.html-640e7660.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/using-sdk-api.html-1d5932df.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/index.html-4613579d.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/index.html-8b1f1dc5.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/index.html-219f1ad1.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/index.html-6fcf442c.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/edit-pdf.html-76ff42aa.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/sign-pdf.html-ad7b684b.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/view-pdf.html-61d7a528.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/index.html-90b036bd.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/getting-started.html-628fc8c2.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/installation.html-9fbd68af.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/create-custom-tools.html-26919f5a.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/custom-ui.html-4079492a.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/getting-started-guide.html-f9cec705.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/introduction.html-f507febe.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/other-resources.html-fd3ab19b.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/technical-support.html-ae1655bd.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/using-sdk-api.html-f66bfacc.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/index.html-70e7f228.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/index.html-895dbfe9.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/index.html-07c16d0f.js" as="script"><link rel="prefetch" href="/RDK_Example/assets/404.html-c4d5a01e.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/RDK_Example/" class=""><img class="logo" src="/RDK_Example/images/ic_launcher.png" alt="Foxit PDF SDK for Android"><span class="site-name can-hide">Foxit PDF SDK for Android</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/RDK_Example/guide/developer-guide/introduction" class="" aria-label="开发者指南"><!--[--><!--]--> 开发者指南 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/RDK_Example/faq/README.md" class="" aria-label="FAQ"><!--[--><!--]--> FAQ <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/Kevin-Android/RDK_Example" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/RDK_Example/guide/developer-guide/introduction" class="" aria-label="开发者指南"><!--[--><!--]--> 开发者指南 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/RDK_Example/faq/README.md" class="" aria-label="FAQ"><!--[--><!--]--> FAQ <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/Kevin-Android/RDK_Example" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">开发者指南 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/RDK_Example/guide/developer-guide/introduction.html" class="sidebar-item" aria-label="Foxit PDF SDK简介"><!--[--><!--]--> Foxit PDF SDK简介 <!--[--><!--]--></a><!----></li><li><a href="/RDK_Example/guide/developer-guide/getting-started-guide.html" class="sidebar-item" aria-label="入门指南"><!--[--><!--]--> 入门指南 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/RDK_Example/guide/developer-guide/build-quickly.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="快速构建一个功能齐全的PDF阅读器"><!--[--><!--]--> 快速构建一个功能齐全的PDF阅读器 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/RDK_Example/guide/developer-guide/build-quickly.html#创建一个新的android工程" class="router-link-active router-link-exact-active sidebar-item" aria-label="创建一个新的Android工程"><!--[--><!--]--> 创建一个新的Android工程 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/RDK_Example/guide/developer-guide/build-quickly.html#集成foxit-pdf-sdk-for-android到您的应用程序" class="router-link-active router-link-exact-active sidebar-item" aria-label="集成Foxit PDF SDK for Android到您的应用程序"><!--[--><!--]--> 集成Foxit PDF SDK for Android到您的应用程序 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/RDK_Example/guide/developer-guide/build-quickly.html#初始化foxit-pdf-sdk-for-android" class="router-link-active router-link-exact-active sidebar-item" aria-label="初始化Foxit PDF SDK for Android"><!--[--><!--]--> 初始化Foxit PDF SDK for Android <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/RDK_Example/guide/developer-guide/build-quickly.html#使用pdfviewctrl显示pdf文档" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用PDFViewCtrl显示PDF文档"><!--[--><!--]--> 使用PDFViewCtrl显示PDF文档 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/RDK_Example/guide/developer-guide/build-quickly.html#打开一个rms加密的文档" class="router-link-active router-link-exact-active sidebar-item" aria-label="打开一个RMS加密的文档"><!--[--><!--]--> 打开一个RMS加密的文档 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/RDK_Example/guide/developer-guide/build-quickly.html#使用ui-extensions组件构建一个功能齐全的pdf阅读器" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用UI Extensions组件构建一个功能齐全的PDF阅读器"><!--[--><!--]--> 使用UI Extensions组件构建一个功能齐全的PDF阅读器 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/RDK_Example/guide/developer-guide/build-quickly.html#基于功能齐全的pdf阅读器添加扫描功能" class="router-link-active router-link-exact-active sidebar-item" aria-label="基于功能齐全的PDF阅读器添加扫描功能"><!--[--><!--]--> 基于功能齐全的PDF阅读器添加扫描功能 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/RDK_Example/guide/developer-guide/build-quickly.html#分区存储-scoped-storage-处理" class="router-link-active router-link-exact-active sidebar-item" aria-label="分区存储 (Scoped Storage)处理"><!--[--><!--]--> 分区存储 (Scoped Storage)处理 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/RDK_Example/guide/developer-guide/custom-ui.html" class="sidebar-item" aria-label="自定义UI"><!--[--><!--]--> 自定义UI <!--[--><!--]--></a><!----></li><li><a href="/RDK_Example/guide/developer-guide/using-sdk-api.html" class="sidebar-item" aria-label="使用SDK API"><!--[--><!--]--> 使用SDK API <!--[--><!--]--></a><!----></li><li><a href="/RDK_Example/guide/developer-guide/create-custom-tools.html" class="sidebar-item" aria-label="创建自定义工具"><!--[--><!--]--> 创建自定义工具 <!--[--><!--]--></a><!----></li><li><a href="/RDK_Example/guide/developer-guide/other-resources.html" class="sidebar-item" aria-label="其他资源"><!--[--><!--]--> 其他资源 <!--[--><!--]--></a><!----></li><li><a href="/RDK_Example/guide/developer-guide/technical-support.html" class="sidebar-item" aria-label="技术支持"><!--[--><!--]--> 技术支持 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="快速构建一个功能齐全的pdf阅读器" tabindex="-1"><a class="header-anchor" href="#快速构建一个功能齐全的pdf阅读器" aria-hidden="true">#</a> 快速构建一个功能齐全的PDF阅读器</h1><p>Foxit PDF SDK for Android 将所有的UI实现（包括应用程序的基本UI和即用型UI功能模块）封装在UI Extensions组件中，因此开发人员可以轻松快速通过几行代码构建一个功能齐全的PDF阅读器。</p><p>本章将提供详细的教程来帮助您快速开始使用Foxit PDF SDK for Android在Android平台创建一个功能齐全的PDF阅读器。其主要包括以下的步骤：</p><ul><li>创建一个新的Android工程</li><li>集成Foxit PDF SDK for Android到您的应用程序</li><li>初始化Foxit PDF SDK for Android</li><li>使用PDFViewCtrl显示PDF文档</li><li>打开一个RMS加密的文档</li><li>使用UI Extensions组件构建一个功能齐全的PDF阅读器</li><li>基于功能齐全的PDF阅读器添加扫描功能</li></ul><h2 id="创建一个新的android工程" tabindex="-1"><a class="header-anchor" href="#创建一个新的android工程" aria-hidden="true">#</a> 创建一个新的Android工程</h2><p>在本指南中，使用Android Studio 4.1.2，以及Android API 30.</p><p>打开Android Studio，选择 File - &gt; New - &gt; New Project ...，在 Select a Project Template 向导中，选择 &quot;Empty Activity&quot; ，如下图所示。然后点击 Next 。</p><p><img src="/RDK_Example/assets/developer_guide_android_CN_Page28_Image1-28079830.png" alt="developer_guide_android_CN_Page28_Image1.png"></p><p>然后填写 Configure your project 对话框，如下图所示。填写完后，点击 Finish 。</p><p><img src="/RDK_Example/assets/developer_guide_android_CN_Page28_Image2-8b2cb7e5.png" alt="developer_guide_android_CN_Page28_Image2.png"></p><h2 id="集成foxit-pdf-sdk-for-android到您的应用程序" tabindex="-1"><a class="header-anchor" href="#集成foxit-pdf-sdk-for-android到您的应用程序" aria-hidden="true">#</a> 集成Foxit PDF SDK for Android到您的应用程序</h2><div class="custom-container warning"><p class="custom-container-title">注意</p><p>在本章中，我们将使用默认的内置UI实现来开发该应用程序，为了简单和方便 (直接使用UI Extensions组件，不需要源代码工程)，我们只需要添加以下的文件到PDFReader工程中。</p><ul><li>FoxitRDK.aar ： 包含JAR包，其中包括Foxit PDF SDK for Android的所有Java APIs，以及 &quot;.so&quot;库。&quot;.so&quot;库是SDK的核心包含了Foxit PDF SDK for Android的核心函数。它针对每种 架构单独编译，当前支持armeabi-v7a, arm64-v8a, x86, 和 x86_64架构。</li><li>FoxitRDKUIExtensions.aar ： 由&quot;libs&quot;目录下的 &quot; uiextensions_src &quot;工程 编译生成。包括 JAR包，内置UI实现，以及UI所需要的资源文件，如图片，字符串、颜色值、布局文件以及 其他Android UI资源。</li></ul></div><div class="custom-container tip"><p class="custom-container-title">提示</p><p>在接下来的 &quot;初始化Foxit PDF SDK for Android&quot;，&quot;使用PDFViewCtrl显示PDF文档&quot; 以及 &quot;打开一个RMS加密的文档&quot;三小节中，不需要使用UI Extensions组件 (FoxitRDKUIExtensions.aar),因此您可以先将 FoxitRDK.aar 添加到工程中。然后在您需要使用UI Extensions组件时再添加FoxitRDKUIExtensions.aar ，比如在 &quot;使用UI Extensions组件构建一个功能齐全的PDF阅读器&quot;章节中。</p></div><p>添加上述的两个AAR文件到PDFReader工程，请切换到&quot;Project&quot;面板，然后按照如下的步骤：</p><ol><li><p>从下载包的&quot;libs&quot;文件夹下拷贝&quot; FoxitRDK.aar &quot; 和 &quot; FoxitRDKUIExtensions.aar &quot;文件到&quot;PDFReader\app\libs&quot;文件夹下。</p><div class="custom-container warning"><p class="custom-container-title">注意</p><ul><li>如果需要支持微软RMS，您需要同时拷贝 &quot; RMSSDK-4.2-release.aar &quot; 和 &quot; rms-sdk-ui.aar &quot; 文件。</li><li>如果需要支持scanning功能，您需要同时拷贝 &quot; FoxitMobileScanningRDK.aar &quot;和&quot; FoxitPDFScan-UI.aar &quot; 文件。</li></ul></div><p>同步PDFReader工程，然后该工程将如下图所示。</p><p><img src="/RDK_Example/assets/developer_guide_android_CN_Page30_Image1-d69911be.png" alt="developer_guide_android_CN_Page30_Image1.png"></p></li><li><p>将&quot;libs&quot;目录定义为repository。在app下面的build.gradle文件中，添加如下的配置：</p><div class="language-groovy line-numbers-mode" data-ext="groovy"><pre class="language-groovy"><code>    repositories <span class="token punctuation">{</span>
        flatDir <span class="token punctuation">{</span>
        dirs <span class="token string">&#39;libs&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>启用Multi-Dex。在app下面的build.gradle文件中，添加如下的代码：</p><div class="language-groovy line-numbers-mode" data-ext="groovy"><pre class="language-groovy"><code>    <span class="token punctuation">...</span>
    android <span class="token punctuation">{</span>
     compileSdkVersion <span class="token number">30</span>
     buildToolsVersion <span class="token interpolation-string"><span class="token string">&quot;30.0.3&quot;</span></span>
     defaultConfig <span class="token punctuation">{</span>
        applicationId <span class="token interpolation-string"><span class="token string">&quot;com.foxit.pdfreader&quot;</span></span>
        minSdkVersion <span class="token number">19</span>
        targetSdkVersion <span class="token number">30</span>
        versionCode <span class="token number">1</span>
        versionName <span class="token interpolation-string"><span class="token string">&quot;1.0&quot;</span></span>
        testInstrumentationRunner <span class="token interpolation-string"><span class="token string">&quot;androidx.test.runner.AndroidJUnitRunner&quot;</span></span>
        multiDexEnabled <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
     <span class="token punctuation">...</span>
     <span class="token punctuation">}</span>
     <span class="token punctuation">...</span>
     dependencies <span class="token punctuation">{</span>
       implementation <span class="token string">&#39;androidx.multidex:multidex:2.0.1&#39;</span>
       implementation <span class="token string">&#39;androidx.appcompat:appcompat:1.2.0&#39;</span>
       implementation <span class="token string">&#39;com.google.android.material:material:1.3.0&#39;</span>
       implementation <span class="token string">&#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;</span>
     <span class="token punctuation">}</span>
     <span class="token punctuation">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>将Foxit PDF SDK for Android作为工程的依赖项。在app下面的 &quot;build.gradle&quot; 文件中，添加&quot; FoxitRDK.aar &quot;, &quot; FoxitRDKUIExtensions.aar &quot; 以及相关支持的库到dependencies。为简单起见，如下所示更新dependencies：</p><div class="language-groovy line-numbers-mode" data-ext="groovy"><pre class="language-groovy"><code>dependencies <span class="token punctuation">{</span>
implementation <span class="token string">&#39;androidx.multidex:multidex:2.0.1&#39;</span>
implementation <span class="token string">&#39;androidx.appcompat:appcompat:1.3.0&#39;</span>
implementation <span class="token string">&#39;com.google.android.material:material:1.3.0&#39;</span>
implementation <span class="token string">&#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;</span>
<span class="token function">implementation</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&#39;FoxitRDK&#39;</span><span class="token punctuation">,</span> ext<span class="token punctuation">:</span> <span class="token string">&#39;aar&#39;</span><span class="token punctuation">)</span>
<span class="token function">implementation</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&#39;FoxitRDKUIExtensions&#39;</span><span class="token punctuation">,</span> ext<span class="token punctuation">:</span> <span class="token string">&#39;aar&#39;</span><span class="token punctuation">)</span>
implementation <span class="token string">&#39;com.edmodo:cropper:1.0.1&#39;</span>
<span class="token comment">// RMS</span>
implementation <span class="token string">&#39;com.microsoft.identity.client:msal:2.+&#39;</span>
<span class="token function">implementation</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&#39;RMSSDK-4.2-release&#39;</span><span class="token punctuation">,</span> ext<span class="token punctuation">:</span> <span class="token string">&#39;aar&#39;</span><span class="token punctuation">)</span>
<span class="token function">implementation</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&#39;rms-sdk-ui&#39;</span><span class="token punctuation">,</span> ext<span class="token punctuation">:</span> <span class="token string">&#39;aar&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// Scanning</span>
<span class="token function">implementation</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&#39;FoxitPDFScan-UI&#39;</span><span class="token punctuation">,</span> ext<span class="token punctuation">:</span> <span class="token string">&#39;aar&#39;</span><span class="token punctuation">)</span>
<span class="token function">implementation</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&#39;FoxitMobileScanningRDK&#39;</span><span class="token punctuation">,</span> ext<span class="token punctuation">:</span> <span class="token string">&#39;aar&#39;</span><span class="token punctuation">)</span>
implementation <span class="token string">&#39;com.nostra13.universalimageloader:universal-image-loader:1.9.5&#39;</span>
<span class="token comment">// RxJava: Compare</span>
implementation <span class="token interpolation-string"><span class="token string">&quot;io.reactivex.rxjava2:rxjava:2.2.16&quot;</span></span>
implementation <span class="token string">&#39;io.reactivex.rxjava2:rxandroid:2.1.1&#39;</span>
<span class="token comment">// Signature</span>
implementation <span class="token string">&#39;org.bouncycastle:bcpkix-jdk15on:1.64&#39;</span>
implementation <span class="token string">&#39;org.bouncycastle:bcprov-jdk15on:1.64&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">注意</p><ul><li>(必选) Foxit PDF SDK for Android依赖于 com.google.android.material ，如果dependencies中没有该依赖项，则需要添加如下的条目：</li></ul><div class="language-groovy line-numbers-mode" data-ext="groovy"><pre class="language-groovy"><code>implementation <span class="token string">&#39;com.google.android.material:material:1.1.0&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>(可选) 如果您需要使用截图 (Snapshot)功能 (如在Complete PDF viewer demo，在右上方点击 ，可以看到Screen Capture功能选项) ，您需要添加如下的条目到dependencies中：</p><div class="language-groovy line-numbers-mode" data-ext="groovy"><pre class="language-groovy"><code>implementation <span class="token string">&#39;com.edmodo:cropper:1.0.1&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>(可选) 如果您需要打开RMS加密的PDF文档，您需要添加如下的条目到dependencies中。</p><div class="language-groovy line-numbers-mode" data-ext="groovy"><pre class="language-groovy"><code>implementation <span class="token string">&#39;com.microsoft.identity.client:msal:2.+&#39;</span>
<span class="token function">implementation</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&#39;RMSSDK-4.2-release&#39;</span> <span class="token punctuation">,</span> ext<span class="token punctuation">:</span> <span class="token string">&#39;aar&#39;</span> <span class="token punctuation">)</span>
<span class="token function">implementation</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&#39;rms-sdk-ui&#39;</span> <span class="token punctuation">,</span> ext<span class="token punctuation">:</span> <span class="token string">&#39;aar&#39;</span> <span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">注意</p><p>您最好使用RMS SDK 4.2 和 MSAL 2+版本，否则可能会导致兼容性问题。其次 ，您需要在工程级的 &quot;build.gradle&quot; 文件中的repositories部分添加如下的配置：</p><div class="language-groovy line-numbers-mode" data-ext="groovy"><pre class="language-groovy"><code>    allprojects <span class="token punctuation">{</span>
      repositories <span class="token punctuation">{</span>
        <span class="token function">google</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">jcenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        maven <span class="token punctuation">{</span>
          url <span class="token string">&#39;https://pkgs.dev.azure.com/MicrosoftDeviceSDK/DuoSDK-Public/_packaging/Duo-SDK-Feed/maven/v1&#39;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>有关更详细的说明，请参阅 <a href="https://github.com/AzureAD/microsoft-authentication-library-for-android" target="_blank" rel="noopener noreferrer">https://github.com/AzureAD/microsoft-authentication-library-for-android<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p></div></li><li><p>(可选) 如果您需要使用扫描 (scanning) 功能 (比如，在Complete PDF viewer demo的启动页面，可以看到扫描功能按钮选项<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAKNmlDQ1BFbWJlZGRlZCBQcm9maWxlAABIiZ2Wd1RT2RaHz703vVCSEIqU0GtoUgJIDb1IkS4qMQkQSsCQACI2RFRwRFGRpggyKOCAo0ORsSKKhQFRsesEGUTUcXAUG5ZJZK0Z37x5782b3x/3fmufvc/dZ+991roAkPyDBcJMWAmADKFYFOHnxYiNi2dgBwEM8AADbADgcLOzQhb4RgKZAnzYjGyZE/gXvboOIPn7KtM/jMEA/5+UuVkiMQBQmIzn8vjZXBkXyTg9V5wlt0/JmLY0Tc4wSs4iWYIyVpNz8ixbfPaZZQ858zKEPBnLc87iZfDk3CfjjTkSvoyRYBkX5wj4uTK+JmODdEmGQMZv5LEZfE42ACiS3C7mc1NkbC1jkigygi3jeQDgSMlf8NIvWMzPE8sPxc7MWi4SJKeIGSZcU4aNkxOL4c/PTeeLxcwwDjeNI+Ix2JkZWRzhcgBmz/xZFHltGbIiO9g4OTgwbS1tvijUf138m5L3dpZehH/uGUQf+MP2V36ZDQCwpmW12fqHbWkVAF3rAVC7/YfNYC8AirK+dQ59cR66fF5SxOIsZyur3NxcSwGfaykv6O/6nw5/Q198z1K+3e/lYXjzkziSdDFDXjduZnqmRMTIzuJw+Qzmn4f4Hwf+dR4WEfwkvogvlEVEy6ZMIEyWtVvIE4gFmUKGQPifmvgPw/6k2bmWidr4EdCWWAKlIRpAfh4AKCoRIAl7ZCvQ730LxkcD+c2L0ZmYnfvPgv59V7hM/sgWJH+OY0dEMrgSUc7smvxaAjQgAEVAA+pAG+gDE8AEtsARuAAP4AMCQSiIBHFgMeCCFJABRCAXFIC1oBiUgq1gJ6gGdaARNIM2cBh0gWPgNDgHLoHLYATcAVIwDp6AKfAKzEAQhIXIEBVSh3QgQ8gcsoVYkBvkAwVDEVAclAglQ0JIAhVA66BSqByqhuqhZuhb6Ch0GroADUO3oFFoEvoVegcjMAmmwVqwEWwFs2BPOAiOhBfByfAyOB8ugrfAlXADfBDuhE/Dl+ARWAo/gacRgBAROqKLMBEWwkZCkXgkCREhq5ASpAJpQNqQHqQfuYpIkafIWxQGRUUxUEyUC8ofFYXiopahVqE2o6pRB1CdqD7UVdQoagr1EU1Ga6LN0c7oAHQsOhmdiy5GV6Cb0B3os+gR9Dj6FQaDoWOMMY4Yf0wcJhWzArMZsxvTjjmFGcaMYaaxWKw61hzrig3FcrBibDG2CnsQexJ7BTuOfYMj4nRwtjhfXDxOiCvEVeBacCdwV3ATuBm8Et4Q74wPxfPwy/Fl+EZ8D34IP46fISgTjAmuhEhCKmEtoZLQRjhLuEt4QSQS9YhOxHCigLiGWEk8RDxPHCW+JVFIZiQ2KYEkIW0h7SedIt0ivSCTyUZkD3I8WUzeQm4mnyHfJ79RoCpYKgQo8BRWK9QodCpcUXimiFc0VPRUXKyYr1iheERxSPGpEl7JSImtxFFapVSjdFTphtK0MlXZRjlUOUN5s3KL8gXlRxQsxYjiQ+FRiij7KGcoY1SEqk9lU7nUddRG6lnqOA1DM6YF0FJppbRvaIO0KRWKip1KtEqeSo3KcRUpHaEb0QPo6fQy+mH6dfo7VS1VT1W+6ibVNtUrqq/V5qh5qPHVStTa1UbU3qkz1H3U09S3qXep39NAaZhphGvkauzROKvxdA5tjssc7pySOYfn3NaENc00IzRXaO7THNCc1tLW8tPK0qrSOqP1VJuu7aGdqr1D+4T2pA5Vx01HoLND56TOY4YKw5ORzqhk9DGmdDV1/XUluvW6g7ozesZ6UXqFeu169/QJ+iz9JP0d+r36UwY6BiEGBQatBrcN8YYswxTDXYb9hq+NjI1ijDYYdRk9MlYzDjDON241vmtCNnE3WWbSYHLNFGPKMk0z3W162Qw2szdLMasxGzKHzR3MBea7zYct0BZOFkKLBosbTBLTk5nDbGWOWtItgy0LLbssn1kZWMVbbbPqt/pobW+dbt1ofceGYhNoU2jTY/OrrZkt17bG9tpc8lzfuavnds99bmdux7fbY3fTnmofYr/Bvtf+g4Ojg8ihzWHS0cAx0bHW8QaLxgpjbWadd0I7eTmtdjrm9NbZwVnsfNj5FxemS5pLi8ujecbz+PMa54256rlyXOtdpW4Mt0S3vW5Sd113jnuD+wMPfQ+eR5PHhKepZ6rnQc9nXtZeIq8Or9dsZ/ZK9ilvxNvPu8R70IfiE+VT7XPfV8832bfVd8rP3m+F3yl/tH+Q/zb/GwFaAdyA5oCpQMfAlYF9QaSgBUHVQQ+CzYJFwT0hcEhgyPaQu/MN5wvnd4WC0IDQ7aH3wozDloV9H44JDwuvCX8YYRNRENG/gLpgyYKWBa8ivSLLIu9EmURJonqjFaMTopujX8d4x5THSGOtYlfGXorTiBPEdcdj46Pjm+KnF/os3LlwPME+oTjh+iLjRXmLLizWWJy++PgSxSWcJUcS0YkxiS2J7zmhnAbO9NKApbVLp7hs7i7uE54Hbwdvku/KL+dPJLkmlSc9SnZN3p48meKeUpHyVMAWVAuep/qn1qW+TgtN25/2KT0mvT0Dl5GYcVRIEaYJ+zK1M/Myh7PMs4qzpMucl+1cNiUKEjVlQ9mLsrvFNNnP1IDERLJeMprjllOT8yY3OvdInnKeMG9gudnyTcsn8n3zv16BWsFd0VugW7C2YHSl58r6VdCqpat6V+uvLlo9vsZvzYG1hLVpa38otC4sL3y5LmZdT5FW0ZqisfV+61uLFYpFxTc2uGyo24jaKNg4uGnupqpNH0t4JRdLrUsrSt9v5m6++JXNV5VffdqStGWwzKFsz1bMVuHW69vctx0oVy7PLx/bHrK9cwdjR8mOlzuX7LxQYVdRt4uwS7JLWhlc2V1lULW16n11SvVIjVdNe61m7aba17t5u6/s8djTVqdVV1r3bq9g7816v/rOBqOGin2YfTn7HjZGN/Z/zfq6uUmjqbTpw37hfumBiAN9zY7NzS2aLWWtcKukdfJgwsHL33h/093GbKtvp7eXHgKHJIcef5v47fXDQYd7j7COtH1n+F1tB7WjpBPqXN451ZXSJe2O6x4+Gni0t8elp+N7y+/3H9M9VnNc5XjZCcKJohOfTuafnD6Vderp6eTTY71Leu+ciT1zrS+8b/Bs0Nnz53zPnen37D953vX8sQvOF45eZF3suuRwqXPAfqDjB/sfOgYdBjuHHIe6Lztd7hmeN3ziivuV01e9r567FnDt0sj8keHrUddv3ki4Ib3Ju/noVvqt57dzbs/cWXMXfbfkntK9ivua9xt+NP2xXeogPT7qPTrwYMGDO2PcsSc/Zf/0frzoIflhxYTORPMj20fHJn0nLz9e+Hj8SdaTmafFPyv/XPvM5Nl3v3j8MjAVOzX+XPT806+bX6i/2P/S7mXvdNj0/VcZr2Zel7xRf3PgLett/7uYdxMzue+x7ys/mH7o+Rj08e6njE+ffgP3hPP7D3kKfQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAASiAAAEogBBD9oqwAAAAV0RVh0VGltZQB5irTqAAAAB3RFWHRBdXRob3IAqa7MSAAAAxpJREFUOI2VlctPE0Ecx2dmd0tbXm2pPAyIIAi0gKCiQIR4MF4wAeSiJHgwHjRBLib+CcZHoomJIeDFBBMBTTAFNPERAUWhRCrlUQrFKgVJoWVbaHe73W7HAwSB7hL8Zi67893P7zu/ndkFWEIMzTiMDnPH+HCrcbjVON45vjCywHpYKT8CEVq2rHy6099R39nd1Nt/f2C42TjcbOy7N2C42dNR/3LgwWe3zR351A4Qt86NPB0xNHZPvJpYX/KFAiEsYIABwAALOBQIrf1ZM78Yf33DMNpmCvqD4iD/sr//7oCxZYRdZQGOLLkpjDHjYr49HvrycJCl2d0gzst9eTRofTMTFqQZ2xQOhae6poaeDAX9/DYQBmPt5tn3tv0gtkUDFoPVYrD8AzknnWPtZry/LNsl8MLoM9Oqnd4ETXZNBbyB/6VsyO/yW3utAADE0uzvwfk9uru3cBjPffzJszxamXYFPCJxIIKknIxPjdPV5Okv6g4Wp1BKCpEi+8634qPtNKLttMALkdPanIS006mxybH2vl9zH+b4QChRl5h5NiPSKQQFj8OLuHUOh0UWRkZRrlm3Z95TeKkgrzpPoVIsfl8UTYQFzLgZBAkIoGQLkgqSZ9/ZTG0/NEc0BEWImzDAQhjJVXKIJEkuqyutNDXrfJZ3wSPaAQAAJKEyQYk0GWqpUqp0FaUkaTsdDgo+p1+bnYDEnARFqNJVSJutVWqUIllmXGsOL8/wXofXbXMH1zme4ee/zkc6YxKjNZkaFBUXdbgyPbJNPMN7F9Z2DcbN7F4XglnnsigFhQAA+lqdaKj9KCYpJudCDtg4Itqj2uKGItFXu7cIGXHy6nF1ugpsfUb0dfrcqpw99kGkIIL5dfrcqtyNy01QVIysvKlMV5O3z1yEjCi8XHjqegmpIHeAAAAKjaLi1pnyprLoA9EQSmaDCMamxFberihvLJXHybfu76gvi5YVNxTVNFcXXzmmOhS/cUohghBBRCFKSakz1CXXTtS2VOfX6Uk5uaOC1O+F83FL5iVLz/Rom8n03DT91uqccAaZoJT/L7dcwHKdub8RAAAAAElFTkSuQmCC" alt="developer_guide_android_CN_Page32_Image2.png">) ，则需要添加如下的条目到dependencies中。</p><div class="language-groovy line-numbers-mode" data-ext="groovy"><pre class="language-groovy"><code><span class="token function">implementation</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&#39;FoxitMobileScanningRDK&#39;</span> <span class="token punctuation">,</span> ext<span class="token punctuation">:</span> <span class="token string">&#39;aar&#39;</span> <span class="token punctuation">)</span>
<span class="token function">implementation</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&#39;FoxitPDFScan-UI&#39;</span> <span class="token punctuation">,</span> ext<span class="token punctuation">:</span> <span class="token string">&#39;aar&#39;</span> <span class="token punctuation">)</span>
implementation <span class="token string">&#39;com.nostra13.universalimageloader:universal-image-loader:1.9.5&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>(可选) 如果您需要使用对比功能 (比如，在Complete PDF viewer demo的启动页面，点击右上方的<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAXCAIAAACeQxh6AAAKNmlDQ1BFbWJlZGRlZCBQcm9maWxlAABIiZ2Wd1RT2RaHz703vVCSEIqU0GtoUgJIDb1IkS4qMQkQSsCQACI2RFRwRFGRpggyKOCAo0ORsSKKhQFRsesEGUTUcXAUG5ZJZK0Z37x5782b3x/3fmufvc/dZ+991roAkPyDBcJMWAmADKFYFOHnxYiNi2dgBwEM8AADbADgcLOzQhb4RgKZAnzYjGyZE/gXvboOIPn7KtM/jMEA/5+UuVkiMQBQmIzn8vjZXBkXyTg9V5wlt0/JmLY0Tc4wSs4iWYIyVpNz8ixbfPaZZQ858zKEPBnLc87iZfDk3CfjjTkSvoyRYBkX5wj4uTK+JmODdEmGQMZv5LEZfE42ACiS3C7mc1NkbC1jkigygi3jeQDgSMlf8NIvWMzPE8sPxc7MWi4SJKeIGSZcU4aNkxOL4c/PTeeLxcwwDjeNI+Ix2JkZWRzhcgBmz/xZFHltGbIiO9g4OTgwbS1tvijUf138m5L3dpZehH/uGUQf+MP2V36ZDQCwpmW12fqHbWkVAF3rAVC7/YfNYC8AirK+dQ59cR66fF5SxOIsZyur3NxcSwGfaykv6O/6nw5/Q198z1K+3e/lYXjzkziSdDFDXjduZnqmRMTIzuJw+Qzmn4f4Hwf+dR4WEfwkvogvlEVEy6ZMIEyWtVvIE4gFmUKGQPifmvgPw/6k2bmWidr4EdCWWAKlIRpAfh4AKCoRIAl7ZCvQ730LxkcD+c2L0ZmYnfvPgv59V7hM/sgWJH+OY0dEMrgSUc7smvxaAjQgAEVAA+pAG+gDE8AEtsARuAAP4AMCQSiIBHFgMeCCFJABRCAXFIC1oBiUgq1gJ6gGdaARNIM2cBh0gWPgNDgHLoHLYATcAVIwDp6AKfAKzEAQhIXIEBVSh3QgQ8gcsoVYkBvkAwVDEVAclAglQ0JIAhVA66BSqByqhuqhZuhb6Ch0GroADUO3oFFoEvoVegcjMAmmwVqwEWwFs2BPOAiOhBfByfAyOB8ugrfAlXADfBDuhE/Dl+ARWAo/gacRgBAROqKLMBEWwkZCkXgkCREhq5ASpAJpQNqQHqQfuYpIkafIWxQGRUUxUEyUC8ofFYXiopahVqE2o6pRB1CdqD7UVdQoagr1EU1Ga6LN0c7oAHQsOhmdiy5GV6Cb0B3os+gR9Dj6FQaDoWOMMY4Yf0wcJhWzArMZsxvTjjmFGcaMYaaxWKw61hzrig3FcrBibDG2CnsQexJ7BTuOfYMj4nRwtjhfXDxOiCvEVeBacCdwV3ATuBm8Et4Q74wPxfPwy/Fl+EZ8D34IP46fISgTjAmuhEhCKmEtoZLQRjhLuEt4QSQS9YhOxHCigLiGWEk8RDxPHCW+JVFIZiQ2KYEkIW0h7SedIt0ivSCTyUZkD3I8WUzeQm4mnyHfJ79RoCpYKgQo8BRWK9QodCpcUXimiFc0VPRUXKyYr1iheERxSPGpEl7JSImtxFFapVSjdFTphtK0MlXZRjlUOUN5s3KL8gXlRxQsxYjiQ+FRiij7KGcoY1SEqk9lU7nUddRG6lnqOA1DM6YF0FJppbRvaIO0KRWKip1KtEqeSo3KcRUpHaEb0QPo6fQy+mH6dfo7VS1VT1W+6ibVNtUrqq/V5qh5qPHVStTa1UbU3qkz1H3U09S3qXep39NAaZhphGvkauzROKvxdA5tjssc7pySOYfn3NaENc00IzRXaO7THNCc1tLW8tPK0qrSOqP1VJuu7aGdqr1D+4T2pA5Vx01HoLND56TOY4YKw5ORzqhk9DGmdDV1/XUluvW6g7ozesZ6UXqFeu169/QJ+iz9JP0d+r36UwY6BiEGBQatBrcN8YYswxTDXYb9hq+NjI1ijDYYdRk9MlYzDjDON241vmtCNnE3WWbSYHLNFGPKMk0z3W162Qw2szdLMasxGzKHzR3MBea7zYct0BZOFkKLBosbTBLTk5nDbGWOWtItgy0LLbssn1kZWMVbbbPqt/pobW+dbt1ofceGYhNoU2jTY/OrrZkt17bG9tpc8lzfuavnds99bmdux7fbY3fTnmofYr/Bvtf+g4Ojg8ihzWHS0cAx0bHW8QaLxgpjbWadd0I7eTmtdjrm9NbZwVnsfNj5FxemS5pLi8ujecbz+PMa54256rlyXOtdpW4Mt0S3vW5Sd113jnuD+wMPfQ+eR5PHhKepZ6rnQc9nXtZeIq8Or9dsZ/ZK9ilvxNvPu8R70IfiE+VT7XPfV8832bfVd8rP3m+F3yl/tH+Q/zb/GwFaAdyA5oCpQMfAlYF9QaSgBUHVQQ+CzYJFwT0hcEhgyPaQu/MN5wvnd4WC0IDQ7aH3wozDloV9H44JDwuvCX8YYRNRENG/gLpgyYKWBa8ivSLLIu9EmURJonqjFaMTopujX8d4x5THSGOtYlfGXorTiBPEdcdj46Pjm+KnF/os3LlwPME+oTjh+iLjRXmLLizWWJy++PgSxSWcJUcS0YkxiS2J7zmhnAbO9NKApbVLp7hs7i7uE54Hbwdvku/KL+dPJLkmlSc9SnZN3p48meKeUpHyVMAWVAuep/qn1qW+TgtN25/2KT0mvT0Dl5GYcVRIEaYJ+zK1M/Myh7PMs4qzpMucl+1cNiUKEjVlQ9mLsrvFNNnP1IDERLJeMprjllOT8yY3OvdInnKeMG9gudnyTcsn8n3zv16BWsFd0VugW7C2YHSl58r6VdCqpat6V+uvLlo9vsZvzYG1hLVpa38otC4sL3y5LmZdT5FW0ZqisfV+61uLFYpFxTc2uGyo24jaKNg4uGnupqpNH0t4JRdLrUsrSt9v5m6++JXNV5VffdqStGWwzKFsz1bMVuHW69vctx0oVy7PLx/bHrK9cwdjR8mOlzuX7LxQYVdRt4uwS7JLWhlc2V1lULW16n11SvVIjVdNe61m7aba17t5u6/s8djTVqdVV1r3bq9g7816v/rOBqOGin2YfTn7HjZGN/Z/zfq6uUmjqbTpw37hfumBiAN9zY7NzS2aLWWtcKukdfJgwsHL33h/093GbKtvp7eXHgKHJIcef5v47fXDQYd7j7COtH1n+F1tB7WjpBPqXN451ZXSJe2O6x4+Gni0t8elp+N7y+/3H9M9VnNc5XjZCcKJohOfTuafnD6Vderp6eTTY71Leu+ciT1zrS+8b/Bs0Nnz53zPnen37D953vX8sQvOF45eZF3suuRwqXPAfqDjB/sfOgYdBjuHHIe6Lztd7hmeN3ziivuV01e9r567FnDt0sj8keHrUddv3ki4Ib3Ju/noVvqt57dzbs/cWXMXfbfkntK9ivua9xt+NP2xXeogPT7qPTrwYMGDO2PcsSc/Zf/0frzoIflhxYTORPMj20fHJn0nLz9e+Hj8SdaTmafFPyv/XPvM5Nl3v3j8MjAVOzX+XPT806+bX6i/2P/S7mXvdNj0/VcZr2Zel7xRf3PgLett/7uYdxMzue+x7ys/mH7o+Rj08e6njE+ffgP3hPP7D3kKfQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAASiAAAEogBBD9oqwAAAAV0RVh0VGltZQB5irTqAAAAB3RFWHRBdXRob3IAqa7MSAAAAgZJREFUOI2tlM2uIUEUx09XE9XNQ4gnoEUnNr4i6LUH8ADewtLOrMRmNhbChgUirIREQojEUsTCV1eGTFPxTc/CnesmNxma+a0qlapf6vxP5QCllFKqKMpv7SiKQv+CVFXt9/upVOqHdpLJZKfTuV6vAIDO53Oz2SSEYIw5jSyXy1artd/vAQBWq1UsFovH49Pp9JcWCCGJRCIWi8myTClFAAAACCGDwYA1gtDHdQC4r16A4ziTycQwzFsihmHC4XAkEuE47l2RXq+nlA6Hw8vl8lZpi8Uin8+Xy+Xdbve6iBBSLBZlWRZFkef5F0Wr1apQKMznc5/P53A40Nf+PY+iKNlsdrFYBAIBh8PBsiz8O2xVVUejUaPROBwOn5vL5TKXyxFCJEmy2+03ywPR9Xodj8fVarVSqWy3WwAghBQKhdlsJkmS1Wr9tDwQsSwriqIgCN1ut1arjcfjUqk0m838fr8gCAihwWDQ6XROp9MDEQCYTKZgMGiz2Xq9XiaTmUwmHo9HFMXbW9rtdr1ePx6Pj0UAgDEOhUK3OLxer9Pp1Ol034891TWDwSBJUjQadTqdX3O58TGPnhEBAMuyPM9//y6qqqqqehddLpfNZqNoYb1en8/ne2kMwxiNRkJIOp3+qZHpdIoxvkWGdDqd2+22WCw8z2uaszzPm81ml8uFMQYAoP+JPy589LoibfPwAAAAAElFTkSuQmCC" alt="developer_guide_android_CN_Page33_Image1.png"> ，可以看到对比功能选项) ，则需要添加如下的条目到dependencies中。</p><div class="language-groovy line-numbers-mode" data-ext="groovy"><pre class="language-groovy"><code>implementation <span class="token interpolation-string"><span class="token string">&quot;io.reactivex.rxjava2:rxjava:2.2.16&quot;</span></span>
implementation <span class="token string">&#39;io.reactivex.rxjava2:rxandroid:2.1.1&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>(可选) 如果您需要使用签名功能，则需要添加如下的条目到dependencies中。</p><div class="language-groovy line-numbers-mode" data-ext="groovy"><pre class="language-groovy"><code>implementation <span class="token string">&#39;org.bouncycastle:bcpkix-jdk15on:1.64&#39;</span>
implementation <span class="token string">&#39;org.bouncycastle:bcprov-jdk15on:1.64&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>此处，我们将如上所有的支持库都添加到dependencies中，因为稍后我们将构建一个功能齐全的PDF阅读器，该阅读器包含Foxit PDF SDK for Android所提供的所有的功能。在APP下的&quot;build.gradle&quot;中设置完成后，同步工程，然后您可以在 External Libraries 下看到&quot; FoxitRDK.aar &quot;, &quot; FoxitRDKUIExtensions.aar &quot;, &quot; FoxitMobileScanningRDK.aar &quot;,&quot; FoxitPDFScan-UI.aar &quot;, &quot; universal-image-loader &quot;, &quot; material &quot;, &quot; cropper &quot;, &quot; rxjava &quot;,&quot; rxandroid &quot; , &quot; bcpkix-jdk15on &quot;, &quot; bcprov-jdk15on &quot; 和 RMS 相关的包。</p></div></li></ol><p>App下的 &quot;build.gradle&quot; 的完整代码如下。</p><div class="language-groovy line-numbers-mode" data-ext="groovy"><pre class="language-groovy"><code>plugins <span class="token punctuation">{</span>
    id <span class="token string">&#39;com.android.application&#39;</span>
<span class="token punctuation">}</span>

android <span class="token punctuation">{</span>
    compileSdkVersion30
    buildToolsVersion<span class="token interpolation-string"><span class="token string">&quot;30.0.3&quot;</span></span>

    defaultConfig <span class="token punctuation">{</span>
        applicationId <span class="token interpolation-string"><span class="token string">&quot;com.foxit.pdfreader&quot;</span></span>
        minSdkVersion <span class="token number">19</span>
        targetSdkVersion  <span class="token number">30</span>
        versionCode <span class="token number">1</span>
        versionName <span class="token interpolation-string"><span class="token string">&quot;1.0&quot;</span></span>
        testInstrumentationRunner <span class="token interpolation-string"><span class="token string">&quot;androidx.test.runner.AndroidJUnitRunner&quot;</span></span>
        multiDexEnabled <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
    buildTypes <span class="token punctuation">{</span>
        release <span class="token punctuation">{</span>
            minifyEnabled <span class="token boolean">false</span>
            proguardFiles <span class="token function">getDefaultProguardFile</span><span class="token punctuation">(</span><span class="token string">&#39;proguard-android.txt&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;proguard-rules.pro&#39;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    compileOptions <span class="token punctuation">{</span>
        sourceCompatibility JavaVersion<span class="token punctuation">.</span>VERSION_1_8
        targetCompatibility JavaVersion<span class="token punctuation">.</span>VERSION_1_8
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

repositories <span class="token punctuation">{</span>
    flatDir <span class="token punctuation">{</span>
        dirs <span class="token string">&#39;libs&#39;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

dependencies <span class="token punctuation">{</span>
    implementation <span class="token string">&#39;androidx.appcompat:appcompat:1.6.1&#39;</span>
    implementation <span class="token interpolation-string"><span class="token string">&quot;androidx.multidex:multidex:2.0.1&quot;</span></span>
    <span class="token comment">//  UI Extensions 使用了material来封装UI，如果使用UI Extensions一定要添加</span>
    implementation <span class="token string">&#39;com.google.android.material:material:1.8.0&#39;</span>
    <span class="token comment">//  Foxit PDF Core API 及 PDF View Control</span>
    <span class="token function">implementation</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&#39;FoxitRDK&#39;</span><span class="token punctuation">,</span> ext<span class="token punctuation">:</span> <span class="token string">&#39;aar&#39;</span><span class="token punctuation">)</span>
    <span class="token comment">//  UI Extensions组件</span>
    <span class="token function">implementation</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&#39;FoxitRDKUIExtensions&#39;</span><span class="token punctuation">,</span> ext<span class="token punctuation">:</span> <span class="token string">&#39;aar&#39;</span><span class="token punctuation">)</span>
    <span class="token comment">//  (可选)如果您需要使用截图功能</span>
    implementation <span class="token string">&#39;com.edmodo:cropper:1.0.1&#39;</span>
    <span class="token comment">//  (可选)如果您需要打开RMS加密的PDF文档</span>
    <span class="token function">implementation</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&#39;RMSSDK-4.2-release&#39;</span><span class="token punctuation">,</span> ext<span class="token punctuation">:</span> <span class="token string">&#39;aar&#39;</span><span class="token punctuation">)</span>
    <span class="token function">implementation</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&#39;rms-sdk-ui&#39;</span><span class="token punctuation">,</span> ext<span class="token punctuation">:</span> <span class="token string">&#39;aar&#39;</span><span class="token punctuation">)</span>
    implementation <span class="token string">&#39;com.microsoft.identity.client:msal:3.0.+&#39;</span>
    <span class="token comment">//  (可选)如果您需要使用扫描功能</span>
    <span class="token function">implementation</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&#39;FoxitPDFScan-UI&#39;</span><span class="token punctuation">,</span> ext<span class="token punctuation">:</span> <span class="token string">&#39;aar&#39;</span><span class="token punctuation">)</span>
    <span class="token function">implementation</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">&#39;FoxitMobileScanningRDK&#39;</span><span class="token punctuation">,</span> ext<span class="token punctuation">:</span> <span class="token string">&#39;aar&#39;</span><span class="token punctuation">)</span>
    implementation <span class="token string">&#39;com.nostra13.universalimageloader:universal-image-loader:1.9.5&#39;</span>
    <span class="token comment">//  (可选)如果您需要使用对比功能</span>
    implementation <span class="token interpolation-string"><span class="token string">&quot;io.reactivex.rxjava2:rxjava:2.2.16&quot;</span></span>
    implementation <span class="token string">&#39;io.reactivex.rxjava2:rxandroid:2.1.1&#39;</span>
    <span class="token comment">//  (可选)如果您需要使用签名功能</span>
    implementation <span class="token string">&#39;org.bouncycastle:bcpkix-jdk15on:1.60&#39;</span>
    implementation <span class="token string">&#39;org.bouncycastle:bcprov-jdk15on:1.60&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">注意</p><p>使用AndroidX，compileSdkVersion最低需要设置成 28 。在本工程中，我们将compileSdkVersion 和 targetSdkVersion设置为API 30。如果您也使用API 30，请确保您已经安装了Android 11.0，API 30 SDK平台。如果没有，请首先打开Android SDK Manager进行下载和安装。</p></div><h2 id="初始化foxit-pdf-sdk-for-android" tabindex="-1"><a class="header-anchor" href="#初始化foxit-pdf-sdk-for-android" aria-hidden="true">#</a> 初始化Foxit PDF SDK for Android</h2><p>在调用任何API之前，应用程序必须使用license初始化Foxit PDF SDK for Android。Library.initialize (sn, key) 函数用于SDK库的初始化。试用license文件在下载包的&quot;libs&quot; 文件夹下。当试用期结束后，您需要购买正式license以继续使用该SDK。下面是SDK库初始化的示例代码。在下一节中将介绍该代码在PDFReader工程中的位置。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">Library</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">Constants</span></span><span class="token punctuation">;</span>

<span class="token keyword">int</span> errorCode <span class="token operator">=</span> <span class="token class-name">Library</span><span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span>sn<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>errorCode <span class="token operator">!=</span> <span class="token class-name">Constants</span><span class="token punctuation">.</span>e_ErrSuccess<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">注意</p><p>sn的值在&quot;rdk_sn.txt&quot;中(&quot;SN=&quot;后面的字符串)，key的值在&quot;rdk_key.txt&quot;中(&quot;Sign=&quot;后面的字符串)。</p></div><h2 id="使用pdfviewctrl显示pdf文档" tabindex="-1"><a class="header-anchor" href="#使用pdfviewctrl显示pdf文档" aria-hidden="true">#</a> 使用PDFViewCtrl显示PDF文档</h2><p>到目前为止，我们已经在PDFReader工程中添加了Foxit PDF SDK for Android库，并且完成了SDK库的初始化。现在，我们将使用PDFViewCtrl通过几行代码来显示一个PDF文档。</p><div class="custom-container warning"><p class="custom-container-title">注意</p><p>如果只需要显示一个PDF文档，则不需要UI Extensions组件。</p></div><p>显示一个PDF文档，请按照如下的步骤：</p><ol><li><p>实例化一个PDFViewCtrl对象来显示一个PDF文档。</p><p>在MainActivity.java中，实例化一个PDFViewCtrl对象，调用 PDFViewCtrl.openDoc 函数打开和渲染PDF文档。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span></span><span class="token class-name">PDFViewCtrl</span></span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">private</span> <span class="token class-name">PDFViewCtrl</span> pdfViewCtrl <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
pdfViewCtrl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PDFViewCtrl</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token string">&quot;/mnt/sdcard/input_files/Sample.pdf&quot;</span><span class="token punctuation">;</span>
pdfViewCtrl<span class="token punctuation">.</span><span class="token function">openDoc</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setContentView</span><span class="token punctuation">(</span>pdfViewCtrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">注意</p><p>请确保您已经将 &quot;Sample.pdf&quot;文档添加到用于运行该工程的Android设备或者模拟器中已创建的 &quot;input_files&quot;文件夹。</p></div><p>更新 MainActivity.java：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>pdfreader</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Bundle</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>appcompat<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">AppCompatActivity</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span></span><span class="token class-name">PDFViewCtrl</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">Constants</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">Library</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>

   <span class="token keyword">private</span> <span class="token class-name">PDFViewCtrl</span> pdfViewCtrl <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token punctuation">;</span>

   <span class="token comment">// The value of &quot;sn&quot; can be found in the &quot;rdk_sn.txt&quot;.</span>
   <span class="token comment">// The value of &quot;key&quot; can be found in the &quot;rdk_key.txt&quot;.</span>
   <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> sn <span class="token operator">=</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">;</span>
   <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> key <span class="token operator">=</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">;</span>

   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// initialize the library.</span>
      <span class="token keyword">int</span> errorCode <span class="token operator">=</span> <span class="token class-name">Library</span><span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span>sn<span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>errorCode <span class="token operator">!=</span> <span class="token class-name">Constants</span><span class="token punctuation">.</span>e_ErrSuccess <span class="token punctuation">)</span>
         <span class="token keyword">return</span> <span class="token punctuation">;</span>
      pdfViewCtrl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PDFViewCtrl</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token string">&quot;/mnt/sdcard/input_files/Sample.pdf&quot;</span> <span class="token punctuation">;</span>
      pdfViewCtrl <span class="token punctuation">.</span><span class="token function">openDoc</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token function">setContentView</span><span class="token punctuation">(</span>pdfViewCtrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>设置Android设备或者模拟器的SD卡的读写权限。您需要添加额外的代码申请授权运行时权限。</p><p>在 MainActivity.java 中，添加如下的代码：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span></span><span class="token class-name">Manifest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span>pm<span class="token punctuation">.</span></span><span class="token class-name">PackageManager</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Build</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>core<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">ActivityCompat</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>core<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">ContextCompat</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">NonNull</span></span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">REQUEST_EXTERNAL_STORAGE</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token constant">PERMISSIONS_STORAGE</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span> <span class="token constant">READ_EXTERNAL_STORAGE</span><span class="token punctuation">,</span>
    <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span> <span class="token constant">WRITE_EXTERNAL_STORAGE</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">// Require the authorization of runtime permissions.</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span><span class="token constant">VERSION</span><span class="token punctuation">.</span><span class="token constant">SDK_INT</span> <span class="token operator">&gt;=</span> <span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">int</span> permission <span class="token operator">=</span> <span class="token class-name">ContextCompat</span><span class="token punctuation">.</span><span class="token function">checkSelfPermission</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span><span class="token constant">WRITE_EXTERNAL_STORAGE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>permission <span class="token operator">!=</span> <span class="token class-name">PackageManager</span><span class="token punctuation">.</span><span class="token constant">PERMISSION_GRANTED</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">ActivityCompat</span><span class="token punctuation">.</span><span class="token function">requestPermissions</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token constant">PERMISSIONS_STORAGE</span><span class="token punctuation">,</span><span class="token constant">REQUEST_EXTERNAL_STORAGE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onRequestPermissionsResult</span><span class="token punctuation">(</span><span class="token keyword">int</span> requestCode<span class="token punctuation">,</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> permissions<span class="token punctuation">,</span><span class="token annotation punctuation">@NonNull</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> grantResults<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>requestCode <span class="token operator">==</span> <span class="token constant">REQUEST_EXTERNAL_STORAGE</span> <span class="token operator">&amp;&amp;</span> grantResults<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token class-name">PackageManager</span><span class="token punctuation">.</span><span class="token constant">PERMISSION_GRANTED</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// Open and Reader a PDF document.</span>
        <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token string">&quot;/mnt/sdcard/input_files/Sample.pdf&quot;</span> <span class="token punctuation">;</span>
        pdfViewCtrl <span class="token punctuation">.</span><span class="token function">openDoc</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token keyword">null</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span> pdfViewCtrl <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onRequestPermissionsResult</span><span class="token punctuation">(</span>requestCode<span class="token punctuation">,</span>permissions<span class="token punctuation">,</span>grantResults<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后， MainActivity.java 的全部代码如下所示：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>pdfreader</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span></span><span class="token class-name">Manifest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span>pm<span class="token punctuation">.</span></span><span class="token class-name">PackageManager</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Build</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Bundle</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>appcompat<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">AppCompatActivity</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>core<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">ActivityCompat</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>core<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">ContextCompat</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">NonNull</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span></span><span class="token class-name">PDFViewCtrl</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">Constants</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">Library</span></span><span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span><span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token class-name">PDFViewCtrl</span> pdfViewCtrl <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">REQUEST_EXTERNAL_STORAGE</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token constant">PERMISSIONS_STORAGE</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span> <span class="token constant">READ_EXTERNAL_STORAGE</span><span class="token punctuation">,</span>
      <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span> <span class="token constant">WRITE_EXTERNAL_STORAGE</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// The value of &quot;sn&quot; can be found in the &quot;rdk_sn.txt&quot;.</span>
  <span class="token comment">// The value of &quot;key&quot; can be found in the &quot;rdk_key.txt&quot;.</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> sn <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> key <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Initialize the library.</span>
    <span class="token keyword">int</span> errorCode <span class="token operator">=</span> <span class="token class-name">Library</span><span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span>sn<span class="token punctuation">,</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>errorCode <span class="token operator">!=</span> <span class="token class-name">Constants</span><span class="token punctuation">.</span>e_ErrSuccess<span class="token punctuation">)</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>

    <span class="token comment">// Instantiate a PDFViewCtrl object.</span>
    pdfViewCtrl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PDFViewCtrl</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Require the authorization of runtime permissions.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span><span class="token constant">VERSION</span><span class="token punctuation">.</span> <span class="token constant">SDK_INT</span> <span class="token operator">&gt;=</span> <span class="token number">23</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">int</span> permission <span class="token operator">=</span> <span class="token class-name">ContextCompat</span><span class="token punctuation">.</span><span class="token function">checkSelfPermission</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span><span class="token constant">WRITE_EXTERNAL_STORAGE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>permission <span class="token operator">!=</span> <span class="token class-name">PackageManager</span><span class="token punctuation">.</span><span class="token constant">PERMISSION_GRANTED</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token class-name">ActivityCompat</span><span class="token punctuation">.</span><span class="token function">requestPermissions</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span><span class="token constant">PERMISSIONS_STORAGE</span><span class="token punctuation">,</span><span class="token constant">REQUEST_EXTERNAL_STORAGE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  
    <span class="token comment">// Open and Render a PDF document.</span>
    <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token string">&quot;/mnt/sdcard/input_files/Sample.pdf&quot;</span> <span class="token punctuation">;</span>
    pdfViewCtrl<span class="token punctuation">.</span><span class="token function">openDoc</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setContentView</span><span class="token punctuation">(</span>pdfViewCtrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onRequestPermissionsResult</span><span class="token punctuation">(</span><span class="token keyword">int</span> requestCode<span class="token punctuation">,</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> permissions<span class="token punctuation">,</span><span class="token annotation punctuation">@NonNull</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> grantResults<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>requestCode <span class="token operator">==</span> <span class="token constant">REQUEST_EXTERNAL_STORAGE</span> <span class="token operator">&amp;&amp;</span> grantResults<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token class-name">PackageManager</span><span class="token punctuation">.</span><span class="token constant">PERMISSION_GRANTED</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// Open and Reader a PDF document.</span>
      <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token string">&quot;/mnt/sdcard/input_files/Sample.pdf&quot;</span><span class="token punctuation">;</span>
      pdfViewCtrl<span class="token punctuation">.</span><span class="token function">openDoc</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">setContentView</span><span class="token punctuation">(</span>pdfViewCtrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
      <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onRequestPermissionsResult</span><span class="token punctuation">(</span>requestCode<span class="token punctuation">,</span>permissions<span class="token punctuation">,</span>grantResults<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onRequestPermissionsResult</span><span class="token punctuation">(</span><span class="token keyword">int</span> requestCode<span class="token punctuation">,</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> permissions<span class="token punctuation">,</span><span class="token annotation punctuation">@NonNull</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> grantResults<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>requestCode <span class="token operator">==</span> <span class="token constant">REQUEST_EXTERNAL_STORAGE</span> <span class="token operator">&amp;&amp;</span> grantResults<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token class-name">PackageManager</span><span class="token punctuation">.</span><span class="token constant">PERMISSION_GRANTED</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Open and Render a PDF document.</span>
      <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token string">&quot;/mnt/sdcard/input_files/Sample.pdf&quot;</span><span class="token punctuation">;</span>
      pdfViewCtrl<span class="token punctuation">.</span><span class="token function">openDoc</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">setContentView</span><span class="token punctuation">(</span>pdfViewCtrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
      <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onRequestPermissionsResult</span><span class="token punctuation">(</span>requestCode<span class="token punctuation">,</span>permissions<span class="token punctuation">,</span>grantResults<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>更新 &quot;PDFReader\app\src\main&quot; 目录下的AndroidManifest.xml 文件，如下所示：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>manifest</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">xmlns:</span>tools</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/tools<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.foxit.pdfreader<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application</span>
    <span class="token attr-name"><span class="token namespace">android:</span>allowBackup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@mipmap/ic_launcher<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@string/app_name<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>roundIcon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@mipmap/ic_launcher_round<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>supportsRtl</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>requestLegacyExternalStorage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">tools:</span>replace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android:theme<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@style/Theme.PDFReader<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.MainActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.action.MAIN<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>category</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.category.LAUNCHER<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activity</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>application</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>manifest</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">注意</p><p>如果在android 10 设备或者模拟器上运行该工程，则需要添加 <code>xml android:requestLegacyExternalStorage=&quot;true&quot;</code> 来申请使用旧的存储模式。</p></div></li></ol><p>在本节中 ，使用AVD 10.0 (API 29) 来编译和运行该工程。现在，我们已经使用Foxit PDF SDK for Android通过几行代码完成了一个显示PDF文档的简单的Android应用程序。下一步是运行该工程。</p><p>当编译完项目并在模拟器上安装APK后，在弹出的窗口点击&quot; Allow &quot; 允许工程访问设备上的文件。然后您将看到&quot;Sample.pdf&quot; 文档显示如下图所示。该示例应用程序具有一些基本的PDF功能，比如放大/缩小和翻页。您可以进行体验。</p><p><img src="/RDK_Example/assets/developer_guide_android_CN_Page40_Image1-906d7c36.png" alt="developer_guide_android_CN_Page40_Image1.png"></p><h2 id="打开一个rms加密的文档" tabindex="-1"><a class="header-anchor" href="#打开一个rms加密的文档" aria-hidden="true">#</a> 打开一个RMS加密的文档</h2><p>从6.2.1版本开始，Foxit PDF SDK for Android支持打开微软RMS加密的文档。</p><p>打开RMS加密的文档，您需要注意以下几点：</p><ol><li><p>在项目中添加RMS相关库依赖。请参考&quot;集成Foxit PDF SDK for Android到您的应用程序&quot;。</p></li><li><p>在打开RMS加密的文档时需要有UI相关的操作，因此在打开文档之前需要设置关联的activity。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>pdfViewCtrl<span class="token punctuation">.</span><span class="token function">setAttachedActivity</span><span class="token punctuation">(</span>activity<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>处理来自UI操作的activity结果。在 onActivityResult 函数中调用API <code>java pdfViewCtrl.handleActivityResult();</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onActivityResult</span><span class="token punctuation">(</span><span class="token keyword">int</span> requestCode<span class="token punctuation">,</span><span class="token keyword">int</span> resultCode<span class="token punctuation">,</span><span class="token class-name">Intent</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onActivityResult</span><span class="token punctuation">(</span>requestCode<span class="token punctuation">,</span>resultCode<span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  pdfViewCtrl <span class="token punctuation">.</span><span class="token function">handleActivityResult</span><span class="token punctuation">(</span>requestCode<span class="token punctuation">,</span> resultCode<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>基于上一节&quot;使用PDFViewCtrl显示PDF文档&quot;，更新整个 MainActivity.java，如下所示：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>pdfreader</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span></span><span class="token class-name">Manifest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">Intent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span>pm<span class="token punctuation">.</span></span><span class="token class-name">PackageManager</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Build</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Bundle</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>appcompat<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">AppCompatActivity</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>core<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">ActivityCompat</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>core<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">ContextCompat</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">NonNull</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span></span><span class="token class-name">PDFViewCtrl</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">Constants</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">Library</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">PDFViewCtrl</span> pdfViewCtrl <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">REQUEST_EXTERNAL_STORAGE</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token constant">PERMISSIONS_STORAGE</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span><span class="token constant">READ_EXTERNAL_STORAGE</span> <span class="token punctuation">,</span>
        <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span><span class="token constant">WRITE_EXTERNAL_STORAGE</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// The value of &quot;sn&quot; can be found in the &quot;rdk_sn.txt&quot;.</span>
    <span class="token comment">// The value of &quot;key&quot; can be found in the &quot;rdk_key.txt&quot;.</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> sn <span class="token operator">=</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> key <span class="token operator">=</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// initialize the library.</span>
        <span class="token keyword">int</span> errorCode <span class="token operator">=</span> <span class="token class-name">Library</span><span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span>sn<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>errorCode <span class="token operator">!=</span> <span class="token class-name">Constants</span><span class="token punctuation">.</span>e_ErrSuccess <span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token punctuation">;</span>

        <span class="token comment">// Instantiate a PDFViewCtrl object.</span>
        pdfViewCtrl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PDFViewCtrl</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Set the associated activity for RMS UI operations.</span>
        pdfViewCtrl<span class="token punctuation">.</span><span class="token function">setAttachedActivity</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Require the authorization of runtime permissions.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span><span class="token constant">VERSION</span><span class="token punctuation">.</span><span class="token constant">SDK_INT</span> <span class="token operator">&gt;=</span> <span class="token number">23</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> permission <span class="token operator">=</span> <span class="token class-name">ContextCompat</span><span class="token punctuation">.</span><span class="token function">checkSelfPermission</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span><span class="token constant">WRITE_EXTERNAL_STORAGE</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>permission <span class="token operator">!=</span> <span class="token class-name">PackageManager</span><span class="token punctuation">.</span><span class="token constant">PERMISSION_GRANTED</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">ActivityCompat</span><span class="token punctuation">.</span><span class="token function">requestPermissions</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">,</span> <span class="token constant">PERMISSIONS_STORAGE</span> <span class="token punctuation">,</span>
                    <span class="token constant">REQUEST_EXTERNAL_STORAGE</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Open and Render a PDF document.</span>
        <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token string">&quot;/mnt/sdcard/input_files/Sample_RMS.pdf&quot;</span> <span class="token punctuation">;</span>
        pdfViewCtrl<span class="token punctuation">.</span><span class="token function">openDoc</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token keyword">null</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span> pdfViewCtrl <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onRequestPermissionsResult</span><span class="token punctuation">(</span> <span class="token keyword">int</span> requestCode<span class="token punctuation">,</span> <span class="token annotation punctuation">@NonNull</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> permissions<span class="token punctuation">,</span> <span class="token annotation punctuation">@NonNull</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> grantResults<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>requestCode <span class="token operator">==</span> <span class="token constant">REQUEST_EXTERNAL_STORAGE</span> <span class="token operator">&amp;&amp;</span> grantResults<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">==</span>
            <span class="token class-name">PackageManager</span><span class="token punctuation">.</span><span class="token constant">PERMISSION_GRANTED</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Open and Render a PDF document.</span>
            <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token string">&quot;/mnt/sdcard/input_files/Sample_RMS.pdf&quot;</span> <span class="token punctuation">;</span>
            pdfViewCtrl<span class="token punctuation">.</span><span class="token function">openDoc</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token keyword">null</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setContentView</span><span class="token punctuation">(</span> pdfViewCtrl <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onRequestPermissionsResult</span><span class="token punctuation">(</span>requestCode<span class="token punctuation">,</span> permissions<span class="token punctuation">,</span> grantResults<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onActivityResult</span><span class="token punctuation">(</span> <span class="token keyword">int</span> requestCode<span class="token punctuation">,</span> <span class="token keyword">int</span> resultCode<span class="token punctuation">,</span> <span class="token class-name">Intent</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onActivityResult</span><span class="token punctuation">(</span>requestCode<span class="token punctuation">,</span> resultCode<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        pdfViewCtrl<span class="token punctuation">.</span><span class="token function">handleActivityResult</span><span class="token punctuation">(</span>requestCode<span class="token punctuation">,</span> resultCode<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">注意</p><p>请确保您已经将一个RMS加密的文档比如 &quot;Sample_RMS.pdf&quot;添加到用于运行该工程的Android设备或者模拟器中已创建的 &quot;input_files&quot; 文件夹。</p></div><p>当编译完项目并在模拟器上安装APK后，在弹出的窗口点击&quot; <strong>Allow</strong> &quot; 允许工程访问设备上的文件。然后您将看到如下图所示的界面，提示您输入组织电子邮件，密码，然后您就可以打开该RMS加密的文档。</p><p><img src="/RDK_Example/assets/developer_guide_android_CN_Page43_Image1-311fec8a.png" alt="developer_guide_android_CN_Page43_Image1.png"></p><h2 id="使用ui-extensions组件构建一个功能齐全的pdf阅读器" tabindex="-1"><a class="header-anchor" href="#使用ui-extensions组件构建一个功能齐全的pdf阅读器" aria-hidden="true">#</a> 使用UI Extensions组件构建一个功能齐全的PDF阅读器</h2><p>Foxit PDF SDK for Android 带有内置的UI设计，包括应用程序的基础UI和功能模块UI。内置UI通过Foxit PDF SDK for Android实现，并且封装在UI Extensions组件中。因此，构建一个功能齐全的PDF阅读器变得越来越简单。您只需要实例化一个UIExtensionsManager对象，然后将其设置给PDFViewCtrl。</p><p><strong>实例化一个UIExtensionsManager对象，并且设置给PDFViewCtrl</strong></p><p>在&quot;MainActivity.java&quot;文件中，我们将添加包含UIExtensionsManager所需的代码。代码片段如下所示，后面您将看到&quot;MainActivity.java&quot; 的完整代码。</p><ol><li><p>将系统主题设置为 &quot;No Title&quot;模式，并且将窗口设置为全屏。</p><div class="custom-container warning"><p class="custom-container-title">注意</p><p>UI Extensions组件已自定义用户界面，因此您需要将系统主题设置为&quot;No Title&quot;模式，以及将窗口设置为全屏。否则，内置功能的布局可能会被影响。</p></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">Window</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">WindowManager</span></span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token comment">// Turn off the title at the top of the screen.</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">requestWindowFeature</span><span class="token punctuation">(</span><span class="token class-name">Window</span><span class="token punctuation">.</span><span class="token constant">FEATURE_NO_TITLE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Set the window to Fullscreen.</span>
<span class="token function">getWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setFlags</span><span class="token punctuation">(</span><span class="token class-name">WindowManager<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">.</span><span class="token constant">FLAG_FULLSCREEN</span><span class="token punctuation">,</span>
<span class="token class-name">WindowManager<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">.</span><span class="token constant">FLAG_FULLSCREEN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>请确保将 &quot;PDFReader\app\src\main\res\values\ themes.xml &quot; 文件中的theme style设置为<code>Theme.MaterialComponents.Light.NoActionBar</code>，如下所示：</p><p><img src="/RDK_Example/assets/developer_guide_android_CN_Page44_Image1-87750827.png" alt="developer_guide_android_CN_Page44_Image1.png"></p></li><li><p>添加代码实例化一个UIExtensionsManager对象，并且将其设置给PDFViewCtrl。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>uiextensions<span class="token punctuation">.</span></span><span class="token class-name">UIExtensionsManager</span></span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token keyword">private</span> <span class="token class-name">UIExtensionsManager</span> uiExtensionsManager <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

uiExtensionsManager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UIExtensionsManager</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pdfViewCtrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
uiExtensionsManager<span class="token punctuation">.</span><span class="token function">setAttachedActivity</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
uiExtensionsManager<span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> pdfViewCtrl<span class="token punctuation">,</span> savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
pdfViewCtrl<span class="token punctuation">.</span><span class="token function">setUIExtensionsManager</span><span class="token punctuation">(</span>uiExtensionsManager<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>打开和渲染一个PDF文档，设置内容视图。</p><p>调用UIExtensionsManager.openDocument()函数打开和渲染PDF文档，而不是调用PDFViewCtrl.openDoc()函数。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>uiextensions<span class="token punctuation">.</span></span><span class="token class-name">UIExtensionsManager</span></span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token string">&quot;/mnt/sdcard/input_files/Sample.pdf&quot;</span> <span class="token punctuation">;</span>
uiExtensionsManager<span class="token punctuation">.</span><span class="token function">openDocument</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setContentView</span><span class="token punctuation">(</span>uiExtensionsManager<span class="token punctuation">.</span><span class="token function">getContentView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>更新 MainActivity.java ：</p><div class="custom-container warning"><p class="custom-container-title">注意</p><p>添加Activity生命周期事件，否则某些功能可能无法正常使用。</p></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>pdfreader</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span></span><span class="token class-name">Manifest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">Intent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span>pm<span class="token punctuation">.</span></span><span class="token class-name">PackageManager</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span>res<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Build</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Bundle</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">KeyEvent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">Window</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">WindowManager</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>appcompat<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">AppCompatActivity</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>core<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">ActivityCompat</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>core<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">ContextCompat</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">NonNull</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span></span><span class="token class-name">PDFViewCtrl</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">Constants</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">Library</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>uiextensions<span class="token punctuation">.</span></span><span class="token class-name">UIExtensionsManager</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">PDFViewCtrl</span> pdfViewCtrl <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">UIExtensionsManager</span> uiExtensionsManager <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">REQUEST_EXTERNAL_STORAGE</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token constant">PERMISSIONS_STORAGE</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span><span class="token constant">READ_EXTERNAL_STORAGE</span><span class="token punctuation">,</span>
        <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span><span class="token constant">WRITE_EXTERNAL_STORAGE</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// The value of &quot;sn&quot; can be found in the &quot;rdk_sn.txt&quot;.</span>
    <span class="token comment">// The value of &quot;key&quot; can be found in the &quot;rdk_key.txt&quot;.</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> sn <span class="token operator">=</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> key <span class="token operator">=</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// initialize the library.</span>
        <span class="token keyword">int</span> errorCode <span class="token operator">=</span> <span class="token class-name">Library</span><span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span>sn<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>errorCode <span class="token operator">!=</span> <span class="token class-name">Constants</span><span class="token punctuation">.</span>e_ErrSuccess<span class="token punctuation">)</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>

        <span class="token comment">// Turn off the title at the top of the screen.</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">requestWindowFeature</span><span class="token punctuation">(</span><span class="token class-name">Window</span><span class="token punctuation">.</span><span class="token constant">FEATURE_NO_TITLE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Set the window to Fullscreen.</span>
        <span class="token function">getWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setFlags</span><span class="token punctuation">(</span><span class="token class-name">WindowManager<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">.</span><span class="token constant">FLAG_FULLSCREEN</span><span class="token punctuation">,</span>
            <span class="token class-name">WindowManager<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">.</span><span class="token constant">FLAG_FULLSCREEN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Instantiate a PDFViewCtrl object.</span>
        pdfViewCtrl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PDFViewCtrl</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Set the associated activity for RMS UI operations.</span>
        pdfViewCtrl<span class="token punctuation">.</span><span class="token function">setAttachedActivity</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Initialize a UIExtensionManager object and set it to PDFViewCtrl.</span>
        uiExtensionsManager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UIExtensionsManager</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pdfViewCtrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
        uiExtensionsManager<span class="token punctuation">.</span><span class="token function">setAttachedActivity</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        uiExtensionsManager<span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> pdfViewCtrl<span class="token punctuation">,</span> savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        pdfViewCtrl<span class="token punctuation">.</span><span class="token function">setUIExtensionsManager</span><span class="token punctuation">(</span>uiExtensionsManager<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Require the authorization of runtime permissions.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span><span class="token constant">VERSION</span><span class="token punctuation">.</span><span class="token constant">SDK_INT</span> <span class="token operator">&gt;=</span> <span class="token number">23</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> permission <span class="token operator">=</span> <span class="token class-name">ContextCompat</span><span class="token punctuation">.</span><span class="token function">checkSelfPermission</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span><span class="token constant">WRITE_EXTERNAL_STORAGE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>permission <span class="token operator">!=</span> <span class="token class-name">PackageManager</span><span class="token punctuation">.</span><span class="token constant">PERMISSION_GRANTED</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">ActivityCompat</span><span class="token punctuation">.</span><span class="token function">requestPermissions</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token constant">PERMISSIONS_STORAGE</span><span class="token punctuation">,</span> <span class="token constant">REQUEST_EXTERNAL_STORAGE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Open and Render a PDF document.</span>
        <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token string">&quot;/mnt/sdcard/input_files/Sample.pdf&quot;</span><span class="token punctuation">;</span>
        uiExtensionsManager<span class="token punctuation">.</span><span class="token function">openDocument</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span>uiExtensionsManager<span class="token punctuation">.</span><span class="token function">getContentView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onRequestPermissionsResult</span><span class="token punctuation">(</span><span class="token keyword">int</span> requestCode<span class="token punctuation">,</span> <span class="token annotation punctuation">@NonNull</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> permissions<span class="token punctuation">,</span> <span class="token annotation punctuation">@NonNull</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
        grantResults<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>requestCode <span class="token operator">==</span> <span class="token constant">REQUEST_EXTERNAL_STORAGE</span> <span class="token operator">&amp;&amp;</span> grantResults<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span>
            <span class="token class-name">PackageManager</span><span class="token punctuation">.</span><span class="token constant">PERMISSION_GRANTED</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Open and Render a PDF document.</span>
            <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token string">&quot;/mnt/sdcard/input_files/Sample.pdf&quot;</span><span class="token punctuation">;</span>
            uiExtensionsManager<span class="token punctuation">.</span><span class="token function">openDocument</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setContentView</span><span class="token punctuation">(</span>uiExtensionsManager<span class="token punctuation">.</span><span class="token function">getContentView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onRequestPermissionsResult</span><span class="token punctuation">(</span>requestCode<span class="token punctuation">,</span> permissions<span class="token punctuation">,</span> grantResults<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onActivityResult</span><span class="token punctuation">(</span><span class="token keyword">int</span> requestCode<span class="token punctuation">,</span> <span class="token keyword">int</span> resultCode<span class="token punctuation">,</span> <span class="token class-name">Intent</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onActivityResult</span><span class="token punctuation">(</span>requestCode<span class="token punctuation">,</span> resultCode<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        pdfViewCtrl<span class="token punctuation">.</span><span class="token function">handleActivityResult</span><span class="token punctuation">(</span>requestCode<span class="token punctuation">,</span> resultCode<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>uiExtensionsManager <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            uiExtensionsManager<span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>uiExtensionsManager <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            uiExtensionsManager<span class="token punctuation">.</span><span class="token function">onStop</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>uiExtensionsManager <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            uiExtensionsManager<span class="token punctuation">.</span><span class="token function">onPause</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>uiExtensionsManager <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            uiExtensionsManager<span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>uiExtensionsManager <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            uiExtensionsManager<span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onConfigurationChanged</span><span class="token punctuation">(</span><span class="token class-name">Configuration</span> newConfig<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onConfigurationChanged</span><span class="token punctuation">(</span>newConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>uiExtensionsManager <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            uiExtensionsManager<span class="token punctuation">.</span><span class="token function">onConfigurationChanged</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> newConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">onKeyDown</span><span class="token punctuation">(</span><span class="token keyword">int</span> keyCode<span class="token punctuation">,</span> <span class="token class-name">KeyEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>uiExtensionsManager <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> uiExtensionsManager<span class="token punctuation">.</span><span class="token function">onKeyDown</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> keyCode<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onKeyDown</span><span class="token punctuation">(</span>keyCode<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>更新AndroidManifest.xml</strong></p><p>添加 <code>&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;</code>授权工程访问摄像机的权限。</p><p>添加 <code>&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;</code>授权工程录制音频和视频的权限。如果不添加，音频和视频功能将无法正常使用。</p><p>添加 <code>&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;</code>授权手机设备浮动窗口的权限。如果不添加，Pan and Zoom 功能可能无法正常使用。</p><p>添加 <code>android:configChanges=&quot;keyboardHidden|orientation|locale|layoutDirection|screenSize&quot; &gt;</code> 属性，以确保在旋转屏幕时只执行onConfigurationChanged()函数，而不会重新调用activity生命周期。如果不添加，签名功能可能无法正常使用。</p><p>更新 AndroidManifest.xml ：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>manifest</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name"><span class="token namespace">xmlns:</span>tools</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/tools<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.foxit.pdfreader<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.CAMERA<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.RECORD_AUDIO<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.SYSTEM_ALERT_WINDOW<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application</span>
            <span class="token attr-name"><span class="token namespace">android:</span>allowBackup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@mipmap/ic_launcher<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@string/app_name<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>roundIcon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@mipmap/ic_launcher_round<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>supportsRtl</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>requestLegacyExternalStorage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">tools:</span>replace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android:theme<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name"><span class="token namespace">android:</span>theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@style/Theme.PDFReader<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.MainActivity<span class="token punctuation">&quot;</span></span>
                  <span class="token attr-name"><span class="token namespace">android:</span>configChanges</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>keyboardHidden|orientation|locale|layoutDirection|screenSize<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.action.MAIN<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>category</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.category.LAUNCHER<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activity</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>application</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>manifest</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>运行工程</strong></p><p>在本节中，使用AVD 10.0 (API 29) 来编译和运行该工程。当编译完项目并在模拟器上安装APK后， 在弹出的窗口点击&quot; <strong>Allow</strong> &quot; 允许工程访问设备上的文件。然后您将看到&quot;Sample.pdf&quot; 文档显示如下图所示。到目前为止，该工程是一个功能齐全的PDF阅读器，包含Complete PDF viewer demo中的所有功能，并且支持打开RMS加密的文档。请您随意体验。</p><p><img src="/RDK_Example/assets/developer_guide_android_CN_Page50_Image1-fcb3c5d4.png" alt="developer_guide_android_CN_Page50_Image1.png"></p><h2 id="基于功能齐全的pdf阅读器添加扫描功能" tabindex="-1"><a class="header-anchor" href="#基于功能齐全的pdf阅读器添加扫描功能" aria-hidden="true">#</a> 基于功能齐全的PDF阅读器添加扫描功能</h2><p>扫描功能是一个单独的模块，没有封装在UI Extensions组件中。因此，如果您需要在工程中使用该功能，那么请添加如下的核心代码来调用scan模块：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>pdfscan<span class="token punctuation">.</span></span><span class="token class-name">PDFScanManager</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>fragment<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">DialogFragment</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>fragment<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">Fragment</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>fragment<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">FragmentManager</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>fragment<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">FragmentTransaction</span></span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">// Initialize the scan module.</span>
<span class="token keyword">long</span> framework1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> framework2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token class-name">PDFScanManager</span><span class="token punctuation">.</span><span class="token function">initializeScanner</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> framework1<span class="token punctuation">,</span> framework2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">long</span> compression1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> compression2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token class-name">PDFScanManager</span><span class="token punctuation">.</span><span class="token function">initializeCompression</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> compression1<span class="token punctuation">,</span> compression2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">PDFScanManager</span><span class="token punctuation">.</span><span class="token function">isInitializeScanner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token class-name">PDFScanManager</span><span class="token punctuation">.</span><span class="token function">isInitializeCompression</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">PDFScanManager</span> pdfScanManager <span class="token operator">=</span> <span class="token class-name">PDFScanManager</span><span class="token punctuation">.</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pdfScanManager<span class="token punctuation">.</span><span class="token function">showUI</span><span class="token punctuation">(</span><span class="token class-name">MainActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token constant">LENGTH_SHORT</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对于 <strong>PDFScanManager.initializeScanner</strong> 和 <strong>PDFScanManager.initializeCompression</strong> 接口，如果您将第二和第三个参数设置为 0 ，则扫描后的图片会带有水印。如果您需要去掉水印，请联系Foxit销售或者技术支持团队来获取授权的key。</p><p>基于上一节，添加一个新的button来调用scan模块。</p><p>更新 MainActivity.java，如下所示：</p><p>(假设您已经将 &quot;samples\complete_pdf_viewer\app\src\main\res\drawable&quot; 文件夹下的&quot;<strong>fx_floatbutton_scan.xml</strong>&quot; 拷贝到 &quot; PDFReader\app\src\main\res\drawable&quot; 文件夹下。)</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>pdfreader</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span></span><span class="token class-name">Manifest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">Intent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span>pm<span class="token punctuation">.</span></span><span class="token class-name">PackageManager</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span>res<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Build</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>os<span class="token punctuation">.</span></span><span class="token class-name">Bundle</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">KeyEvent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">View</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">ViewGroup</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">Window</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>view<span class="token punctuation">.</span></span><span class="token class-name">WindowManager</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">ImageView</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">RelativeLayout</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">android<span class="token punctuation">.</span>widget<span class="token punctuation">.</span></span><span class="token class-name">Toast</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span></span><span class="token class-name">PDFViewCtrl</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">Constants</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">Library</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>uiextensions<span class="token punctuation">.</span></span><span class="token class-name">UIExtensionsManager</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>foxit<span class="token punctuation">.</span>pdfscan<span class="token punctuation">.</span></span><span class="token class-name">PDFScanManager</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">NonNull</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>appcompat<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">AppCompatActivity</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>core<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">ActivityCompat</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">androidx<span class="token punctuation">.</span>core<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span><span class="token class-name">ContextCompat</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">PDFViewCtrl</span> pdfViewCtrl <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">UIExtensionsManager</span> uiExtensionsManager <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">REQUEST_EXTERNAL_STORAGE</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token constant">PERMISSIONS_STORAGE</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span><span class="token constant">READ_EXTERNAL_STORAGE</span><span class="token punctuation">,</span>
        <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span><span class="token constant">WRITE_EXTERNAL_STORAGE</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// The value of &quot;sn&quot; can be found in the &quot;rdk_sn.txt&quot;.</span>
    <span class="token comment">// The value of &quot;key&quot; can be found in the &quot;rdk_key.txt&quot;.</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> sn <span class="token operator">=</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> key <span class="token operator">=</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Initialize the library.</span>
        <span class="token keyword">int</span> errorCode <span class="token operator">=</span> <span class="token class-name">Library</span><span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span>sn<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>errorCode <span class="token operator">!=</span> <span class="token class-name">Constants</span><span class="token punctuation">.</span>e_ErrSuccess<span class="token punctuation">)</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>

        <span class="token comment">// Turn off the title at the top of the screen.</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">requestWindowFeature</span><span class="token punctuation">(</span><span class="token class-name">Window</span><span class="token punctuation">.</span><span class="token constant">FEATURE_NO_TITLE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Set the window to Fullscreen.</span>
        <span class="token function">getWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setFlags</span><span class="token punctuation">(</span><span class="token class-name">WindowManager<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">.</span><span class="token constant">FLAG_FULLSCREEN</span><span class="token punctuation">,</span>
            <span class="token class-name">WindowManager<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">.</span><span class="token constant">FLAG_FULLSCREEN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Instantiate a PDFViewCtrl object.</span>
        pdfViewCtrl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PDFViewCtrl</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Set the associated activity for RMS UI operations.</span>
        pdfViewCtrl<span class="token punctuation">.</span><span class="token function">setAttachedActivity</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        uiExtensionsManager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UIExtensionsManager</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pdfViewCtrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
        uiExtensionsManager<span class="token punctuation">.</span><span class="token function">setAttachedActivity</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        uiExtensionsManager<span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> pdfViewCtrl<span class="token punctuation">,</span> savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        pdfViewCtrl<span class="token punctuation">.</span><span class="token function">setUIExtensionsManager</span><span class="token punctuation">(</span>uiExtensionsManager<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Require the authorization of runtime permissions.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span><span class="token constant">VERSION</span><span class="token punctuation">.</span><span class="token constant">SDK_INT</span> <span class="token operator">&gt;=</span> <span class="token number">23</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> permission <span class="token operator">=</span> <span class="token class-name">ContextCompat</span><span class="token punctuation">.</span><span class="token function">checkSelfPermission</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token class-name">Manifest</span><span class="token punctuation">.</span>permission<span class="token punctuation">.</span><span class="token constant">WRITE_EXTERNAL_STORAGE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>permission <span class="token operator">!=</span> <span class="token class-name">PackageManager</span><span class="token punctuation">.</span><span class="token constant">PERMISSION_GRANTED</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">ActivityCompat</span><span class="token punctuation">.</span><span class="token function">requestPermissions</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token constant">PERMISSIONS_STORAGE</span><span class="token punctuation">,</span> <span class="token constant">REQUEST_EXTERNAL_STORAGE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Open and Render a PDF document.</span>
        <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token string">&quot;/mnt/sdcard/input_files/Sample.pdf&quot;</span><span class="token punctuation">;</span>
        uiExtensionsManager<span class="token punctuation">.</span><span class="token function">openDocument</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">RelativeLayout</span> rootView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RelativeLayout</span><span class="token punctuation">(</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">RelativeLayout<span class="token punctuation">.</span>LayoutParams</span> layoutParams <span class="token operator">=</span> <span class="token keyword">new</span>
            <span class="token class-name">RelativeLayout<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">(</span><span class="token class-name">ViewGroup<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">.</span><span class="token constant">MATCH_PARENT</span><span class="token punctuation">,</span> <span class="token class-name">ViewGroup
            <span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">.</span><span class="token constant">MATCH_PARENT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        rootView<span class="token punctuation">.</span><span class="token function">addView</span><span class="token punctuation">(</span>uiExtensionsManager<span class="token punctuation">.</span><span class="token function">getContentView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> layoutParams<span class="token punctuation">)</span><span class="token punctuation">;</span>
        rootView<span class="token punctuation">.</span><span class="token function">addView</span><span class="token punctuation">(</span><span class="token function">getScanButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span>rootView<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Get a scan button.</span>
    <span class="token keyword">private</span> <span class="token class-name">View</span> <span class="token function">getScanButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ImageView</span> ivScan <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageView</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ivScan<span class="token punctuation">.</span><span class="token function">setImageResource</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>fx_floatbutton_scan<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ivScan<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">PDFScanManager</span><span class="token punctuation">.</span><span class="token function">isInitializeScanner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">long</span> framework1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                    <span class="token keyword">long</span> framework2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                    <span class="token class-name">PDFScanManager</span><span class="token punctuation">.</span><span class="token function">initializeScanner</span><span class="token punctuation">(</span><span class="token class-name">MainActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> framework1<span class="token punctuation">,</span> framework2<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">PDFScanManager</span><span class="token punctuation">.</span><span class="token function">isInitializeCompression</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">long</span> compression1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                    <span class="token keyword">long</span> compression2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                    <span class="token class-name">PDFScanManager</span><span class="token punctuation">.</span><span class="token function">initializeCompression</span><span class="token punctuation">(</span><span class="token class-name">MainActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> compression1<span class="token punctuation">,</span>
                        compression2<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">PDFScanManager</span><span class="token punctuation">.</span><span class="token function">isInitializeScanner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token class-name">PDFScanManager</span><span class="token punctuation">.</span><span class="token function">isInitializeCompression</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">final</span> <span class="token class-name">PDFScanManager</span> pdfScanManager <span class="token operator">=</span> <span class="token class-name">PDFScanManager</span><span class="token punctuation">.</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    pdfScanManager<span class="token punctuation">.</span><span class="token function">showUI</span><span class="token punctuation">(</span><span class="token class-name">MainActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token function">getApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> &quot;<span class="token class-name">You</span> are not authorized <span class="token keyword">to</span> <span class="token namespace">use</span> <span class="token keyword">this</span> add<span class="token operator">-</span>on <span class="token keyword">module</span><span class="token punctuation">,</span>
                        please contact us <span class="token keyword">for</span> upgrading your license<span class="token punctuation">.</span>&quot;<span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token constant">LENGTH_SHORT</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">RelativeLayout<span class="token punctuation">.</span>LayoutParams</span> layoutParams <span class="token operator">=</span> <span class="token keyword">new</span>
            <span class="token class-name">RelativeLayout<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">(</span><span class="token class-name">RelativeLayout<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">.</span><span class="token constant">WRAP_CONTENT</span><span class="token punctuation">,</span>
            <span class="token class-name">RelativeLayout<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">.</span><span class="token constant">WRAP_CONTENT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        layoutParams<span class="token punctuation">.</span>bottomMargin <span class="token operator">=</span> <span class="token number">120</span><span class="token punctuation">;</span>
        layoutParams<span class="token punctuation">.</span>rightMargin <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
        layoutParams<span class="token punctuation">.</span><span class="token function">addRule</span><span class="token punctuation">(</span><span class="token class-name">RelativeLayout</span><span class="token punctuation">.</span><span class="token constant">ALIGN_PARENT_BOTTOM</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        layoutParams<span class="token punctuation">.</span><span class="token function">addRule</span><span class="token punctuation">(</span><span class="token class-name">RelativeLayout</span><span class="token punctuation">.</span><span class="token constant">ALIGN_PARENT_RIGHT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        ivScan<span class="token punctuation">.</span><span class="token function">setLayoutParams</span><span class="token punctuation">(</span>layoutParams<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> ivScan<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onRequestPermissionsResult</span><span class="token punctuation">(</span><span class="token keyword">int</span> requestCode<span class="token punctuation">,</span> <span class="token annotation punctuation">@NonNull</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> permissions<span class="token punctuation">,</span> <span class="token annotation punctuation">@NonNull</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
        grantResults<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>requestCode <span class="token operator">==</span> <span class="token constant">REQUEST_EXTERNAL_STORAGE</span> <span class="token operator">&amp;&amp;</span> grantResults<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span>
            <span class="token class-name">PackageManager</span><span class="token punctuation">.</span><span class="token constant">PERMISSION_GRANTED</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Open and Render a PDF document.</span>
            <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token string">&quot;/mnt/sdcard/input_files/Sample.pdf&quot;</span><span class="token punctuation">;</span>
            uiExtensionsManager<span class="token punctuation">.</span><span class="token function">openDocument</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setContentView</span><span class="token punctuation">(</span>uiExtensionsManager<span class="token punctuation">.</span><span class="token function">getContentView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onRequestPermissionsResult</span><span class="token punctuation">(</span>requestCode<span class="token punctuation">,</span> permissions<span class="token punctuation">,</span> grantResults<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onActivityResult</span><span class="token punctuation">(</span><span class="token keyword">int</span> requestCode<span class="token punctuation">,</span> <span class="token keyword">int</span> resultCode<span class="token punctuation">,</span> <span class="token class-name">Intent</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onActivityResult</span><span class="token punctuation">(</span>requestCode<span class="token punctuation">,</span> resultCode<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        pdfViewCtrl<span class="token punctuation">.</span><span class="token function">handleActivityResult</span><span class="token punctuation">(</span>requestCode<span class="token punctuation">,</span> resultCode<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>uiExtensionsManager <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            uiExtensionsManager<span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>uiExtensionsManager <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            uiExtensionsManager<span class="token punctuation">.</span><span class="token function">onStop</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>uiExtensionsManager <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            uiExtensionsManager<span class="token punctuation">.</span><span class="token function">onPause</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>uiExtensionsManager <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            uiExtensionsManager<span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>uiExtensionsManager <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            uiExtensionsManager<span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onConfigurationChanged</span><span class="token punctuation">(</span><span class="token class-name">Configuration</span> newConfig<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onConfigurationChanged</span><span class="token punctuation">(</span>newConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>uiExtensionsManager <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            uiExtensionsManager<span class="token punctuation">.</span><span class="token function">onConfigurationChanged</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> newConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">onKeyDown</span><span class="token punctuation">(</span><span class="token keyword">int</span> keyCode<span class="token punctuation">,</span> <span class="token class-name">KeyEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>uiExtensionsManager <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> uiExtensionsManager<span class="token punctuation">.</span><span class="token function">onKeyDown</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> keyCode<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onKeyDown</span><span class="token punctuation">(</span>keyCode<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当编译完项目并在模拟器上安装APK后，在弹出的窗口点击&quot; <strong>Allow</strong> &quot; 允许工程访问设备上的文件。然后您将看到如下图所示的界面，点击scan按钮可以开始扫描文档。</p><p><img src="/RDK_Example/assets/developer_guide_android_CN_Page56_Image1-76890f80.png" alt="developer_guide_android_CN_Page56_Image1.png"></p><h2 id="分区存储-scoped-storage-处理" tabindex="-1"><a class="header-anchor" href="#分区存储-scoped-storage-处理" aria-hidden="true">#</a> 分区存储 (Scoped Storage)处理</h2><p>Android 11的发布对分区存储做了进一步地改进。使用分区存储，设备文件的访问会变得更加严格，同时也更加容易。分区存储可以更好地保护用户的隐私，以及提供更加安全的数据保护。 兼容分区存储的应用程序为面向用户的数据提供了特定的文件夹，以及提供了一个专有的沙盒文件夹用于存储其所需的文件，该沙盒文件夹是其他任何应用程序都无法访问和使用的。分区存储能够为应用程序生成的文件创建第二个文件夹。</p><p>如果您需要在工程中禁用分区存储，可以选择如下任意一种的配置：</p><ul><li>在APP下的 build.gradle 文件中，将targetSdkVersion 设置为 &lt;=28。</li><li>在APP下的 build.gradle 文件中，将targetSdkVersion 设置为 =29，然后在AndroidManifest.xml 文件中，在application节点中添加<code>android:requestLegacyExternalStorage=&quot;true&quot;</code>。</li></ul><p>如果<code>targetSdkVersion &gt;= 30</code>，您可以添加如下的配置来减少分区存储对您工程的影响:</p><p>在 AndroidManifest.xml 文件中：</p><ul><li>在manifest节点中，添加 <code>&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;</code>。</li><li>在application节点中，添加 <code>android:requestLegacyExternalStorage=&quot;true&quot;</code> 和<code>android:preserveLegacyExternalStorage=&quot;true&quot;</code>。</li></ul><p>如果在分区存储被启用时，您需要去适配分区存储，则可以参考complete PDF Viewer demo以获取更详细的信息。</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: Kevin_Android@163.com">Kevin-Android</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/RDK_Example/guide/developer-guide/getting-started-guide.html" class="" aria-label="入门指南"><!--[--><!--]--> 入门指南 <!--[--><!--]--></a></span><span class="next"><a href="/RDK_Example/guide/developer-guide/custom-ui.html" class="" aria-label="自定义UI"><!--[--><!--]--> 自定义UI <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/RDK_Example/assets/app-e1a13da4.js" defer></script>
  </body>
</html>
